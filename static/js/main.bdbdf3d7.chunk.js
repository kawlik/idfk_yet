(this.webpackJsonpidfk_yet=this.webpackJsonpidfk_yet||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),o=c(8),i=c.n(o),a=c(2),r=c(0),j=Object(s.createContext)(null),u={x:0,y:0,w:0,r:0,o:0},f=function(e){var t=e.children,c=Object(s.useState)(2),n=Object(a.a)(c,2),o=n[0],i=n[1],f=Object(s.useState)(0),b=Object(a.a)(f,2),O=b[0],p=b[1],l=Object(s.useState)(u),d=Object(a.a)(l,2),x=d[0],v=d[1],h=Object(s.useState)([]),m=Object(a.a)(h,2),k=m[0],N=m[1],y=function(e){return+e.filter((function(e){return e.startsWith("highScore")})).pop().slice(10)},S={high:O,setHigh:p,score:o,setScore:i,player:x,setPlayer:v,spikes:k,setSpikes:N};return Object(s.useEffect)((function(){var e=y(document.cookie.split(/; */));p(e)}),[]),Object(s.useEffect)((function(){var e=y(document.cookie.split(/; */)),t=o;t>e&&(document.cookie="highScore=".concat(t),p(t))}),[o]),Object(r.jsx)(j.Provider,{value:S,children:t})},b=c(3),O=c(7),p=function(e){var t=e.idName,c=e.side,n=Object(s.useContext)(j),o=n.player,i=n.setPlayer,a=c?o.o-o.r:0,u=c?90:0,f="translateX(".concat(-a,"px) rotate(").concat(-u,"deg)");return Object(s.useEffect)((function(){var e=o.y,t=o.w,c=o.r,s=o.o;i({x:s-a,y:e,w:t,r:c,o:s})}),[c]),Object(s.useEffect)((function(){var e=document.querySelector(".player"),t=e.offsetLeft+e.offsetWidth/2,c=e.offsetTop+e.offsetHeight/2,s=e.offsetWidth;i({x:t,y:c,w:s,r:s/2,o:t})}),[]),Object(r.jsx)("div",{className:"player",id:t,style:{transform:f},children:Object(r.jsx)("span",{})})},l=function(){var e=Object(s.useContext)(j).setSpikes;return Object(s.useEffect)((function(){var t=document.querySelector(".spike"),c=t.offsetLeft+t.offsetWidth/2,s=t.offsetTop+t.offsetHeight/2,n=t.offsetWidth/2;e((function(e){return[{x:c,y:s,r:n}].concat(Object(b.a)(e.slice(0,19)))}))}),[]),Object(r.jsx)("div",{className:"spike __left"})},d=function(){var e=Object(s.useContext)(j).setSpikes;return Object(s.useEffect)((function(){var t=document.querySelector(".spike"),c=t.offsetLeft+t.offsetWidth/2,s=t.offsetTop+t.offsetHeight/2,n=t.offsetWidth/2;e((function(e){return[{x:c,y:s,r:n}].concat(Object(b.a)(e.slice(0,19)))}))}),[]),Object(r.jsx)("div",{className:"spike __right"})},x=function(){return Object(r.jsxs)("div",{className:"spikes-top",children:[Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"})]})},v=function(){var e=Object(s.useContext)(j).high,t=Object(s.useContext)(j).player,c=Object(s.useContext)(j).spikes,n=(Object(s.useContext)(j).setHigh,Object(s.useContext)(j).setScore),o=Object(s.useContext)(j).setSpikes,i=Object(s.useState)(!1),u=Object(a.a)(i,2),f=u[0],v=u[1],h=Object(s.useState)(!0),m=Object(a.a)(h,2),k=m[0],N=m[1],y=0,S=k?"btn start":"btn stop",C=Object(s.useState)([]),g=Object(a.a)(C,2),E=g[0],w=g[1],q=Object(s.useState)(!1),M=Object(a.a)(q,2),W=M[0],H=M[1],_=function(){c.forEach((function(e){var c,s,n,o;(c=e.x,s=t.x,n=e.y,o=t.y,Math.sqrt(Math.pow(c-s,2)+Math.pow(n-o,2)))<(e.r+t.r)/Math.SQRT2&&e.y+t.w/2<t.y&&(H(!0),N(!0))}))};return Object(s.useEffect)((function(){if(!k){document.querySelector(".curr").textContent=y;var e=setInterval((function(){return function(){var e=Boolean(Math.floor(2*Math.random()))?Object(r.jsx)(l,{},y):Object(r.jsx)(d,{},y);y++,document.querySelector(".curr").textContent=y,w((function(t){return[e].concat(Object(b.a)(t.slice(0,19)))}))}()}),5e4/(y+50));return function(){clearInterval(e),n(y)}}k&&(o([]),w([]))}),[k,W]),Object(s.useEffect)((function(){if(!k){var e=setInterval((function(){return function(){var e=Object(b.a)(c);e.forEach((function(e){e.y+=window.innerHeight/(200*Math.SQRT2)})),_(),o(e)}()}),5);return function(){return clearInterval(e)}}}),[k,c]),Object(s.useEffect)((function(){var t=document.querySelector(".curr"),c=document.querySelector(".high");t.textContent=y,c.textContent=e}),[k,e]),Object(r.jsxs)("section",{className:"board",onClick:k?null:function(){return v((function(e){return!e}))},children:[Object(r.jsx)("span",{className:"curr"}),Object(r.jsx)("span",{className:"high"}),Object(r.jsx)("button",{className:S,onClick:function(){return N((function(e){return!e}))},children:k?Object(r.jsx)(O.b,{}):Object(r.jsx)(O.a,{})}),Object(r.jsx)(p,{idName:"player",side:f}),Object(r.jsx)(x,{}),E]})},h=(c(14),function(){return Object(r.jsx)(f,{children:Object(r.jsx)(v,{})})});i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(h,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bdbdf3d7.chunk.js.map