(this.webpackJsonpidfk_yet=this.webpackJsonpidfk_yet||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(8),o=s.n(a),i=s(2),r=s(0),j=Object(c.createContext)(null),u={x:0,y:0,w:0,r:0,o:0},f=function(e){var t=e.children,s=Object(c.useState)(0),n=Object(i.a)(s,2),a=n[0],o=n[1],f=Object(c.useState)(0),b=Object(i.a)(f,2),O=b[0],p=b[1],l=Object(c.useState)(u),x=Object(i.a)(l,2),d=x[0],v=x[1],m=Object(c.useState)([]),h=Object(i.a)(m,2),k=h[0],N=h[1],y={high:O,setHigh:p,score:a,setScore:o,player:d,setPlayer:v,spikes:k,setSpikes:N};return Object(c.useEffect)((function(){a>O&&p(a)}),[a]),Object(r.jsx)(j.Provider,{value:y,children:t})},b=s(3),O=s(7),p=function(e){var t=e.idName,s=e.side,n=Object(c.useContext)(j),a=n.player,o=n.setPlayer,i=s?a.o-a.r:0,u=s?90:0,f="translateX(".concat(-i,"px) rotate(").concat(-u,"deg)");return Object(c.useEffect)((function(){var e=a.y,t=a.w,s=a.r,c=a.o;o({x:c-i,y:e,w:t,r:s,o:c})}),[s]),Object(c.useEffect)((function(){var e=document.querySelector(".player"),t=e.offsetLeft+e.offsetWidth/2,s=e.offsetTop+e.offsetHeight/2,c=e.offsetWidth;o({x:t,y:s,w:c,r:c/2,o:t})}),[]),Object(r.jsx)("div",{className:"player",id:t,style:{transform:f},children:Object(r.jsx)("span",{})})},l=function(){var e=Object(c.useContext)(j).setSpikes;return Object(c.useEffect)((function(){var t=document.querySelector(".spike"),s=t.offsetLeft+t.offsetWidth/2,c=t.offsetTop+t.offsetHeight/2,n=t.offsetWidth/2;e((function(e){return[{x:s,y:c,r:n}].concat(Object(b.a)(e.slice(0,19)))}))}),[]),Object(r.jsx)("div",{className:"spike __left"})},x=function(){var e=Object(c.useContext)(j).setSpikes;return Object(c.useEffect)((function(){var t=document.querySelector(".spike"),s=t.offsetLeft+t.offsetWidth/2,c=t.offsetTop+t.offsetHeight/2,n=t.offsetWidth/2;e((function(e){return[{x:s,y:c,r:n}].concat(Object(b.a)(e.slice(0,19)))}))}),[]),Object(r.jsx)("div",{className:"spike __right"})},d=function(){return Object(r.jsxs)("div",{className:"spikes-top",children:[Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"}),Object(r.jsx)("div",{className:"spike-top"})]})},v=function(){var e=Object(c.useContext)(j).high,t=Object(c.useContext)(j).player,s=Object(c.useContext)(j).spikes,n=(Object(c.useContext)(j).setHigh,Object(c.useContext)(j).setScore),a=Object(c.useContext)(j).setSpikes,o=Object(c.useState)(!1),u=Object(i.a)(o,2),f=u[0],v=u[1],m=Object(c.useState)(!0),h=Object(i.a)(m,2),k=h[0],N=h[1],y=0,S=k?"btn start":"btn stop",C=Object(c.useState)([]),g=Object(i.a)(C,2),w=g[0],E=g[1],q=Object(c.useState)(!1),M=Object(i.a)(q,2),H=M[0],W=M[1],_=function(){s.forEach((function(e){var s,c,n,a;(s=e.x,c=t.x,n=e.y,a=t.y,Math.sqrt(Math.pow(s-c,2)+Math.pow(n-a,2)))<(e.r+t.r)/Math.SQRT2&&e.y+t.w/2<t.y&&(W(!0),N(!0))}))};return Object(c.useEffect)((function(){if(!k){document.querySelector(".curr").textContent=y;var e=setInterval((function(){return function(){var e=Boolean(Math.floor(2*Math.random()))?Object(r.jsx)(l,{},y):Object(r.jsx)(x,{},y);y++,document.querySelector(".curr").textContent=y,E((function(t){return[e].concat(Object(b.a)(t.slice(0,19)))}))}()}),2e4/(y+20));return function(){clearInterval(e),n(y)}}k&&(a([]),E([]))}),[k,H]),Object(c.useEffect)((function(){if(!k){var e=setInterval((function(){return function(){var e=Object(b.a)(s);e.forEach((function(e){e.y+=window.innerHeight/(200*Math.SQRT2)})),_(),a(e)}()}),5);return function(){return clearInterval(e)}}}),[k,s]),Object(c.useEffect)((function(){var t=document.querySelector(".curr"),s=document.querySelector(".high");t.textContent=y,s.textContent=e}),[k,e]),Object(r.jsxs)("section",{className:"board",onClick:k?null:function(){return v((function(e){return!e}))},children:[Object(r.jsx)("span",{className:"curr"}),Object(r.jsx)("span",{className:"high"}),Object(r.jsx)("button",{className:S,onClick:function(){return N((function(e){return!e}))},children:k?Object(r.jsx)(O.b,{}):Object(r.jsx)(O.a,{})}),Object(r.jsx)(p,{idName:"player",side:f}),Object(r.jsx)(d,{}),w]})},m=(s(14),function(){return Object(r.jsx)(f,{children:Object(r.jsx)(v,{})})});o.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.cb17ee6c.chunk.js.map